{"version":3,"sources":["Filter.js","App.js","index.js"],"names":["createFilters","items","itemRemoved","isDistrict","length","map","item","color","closable","onClose","district_name","district_id","style","opacity","userSelect","Filter","allItemsRemoved","visible","className","data-tour","FilterOutlined","marginRight","type","danger","onClick","Title","Typography","audio","Audio","addDays","date","days","copy","Date","Number","setDate","getDate","apiType","vacccines","label","value","feeTypes","columns","title","dataIndex","key","sleepNow","delay","Promise","resolve","setTimeout","App","useState","searchType","setValue","searchRef","minAge","setMinAge","minAgeRef","pincode","setPincode","setInterval","intervalRef","weeks","setWeeks","weeksRef","searching","setSearching","selectedVaccines","setSelectedVaccines","vaccinesRef","selectedFeeTypes","setSelectedFeeTypes","feeRef","selectedAPIType","setSelectedAPIType","apiTypeRef","state_id","state_name","selectedState","setSelectedState","statesData","setStatesData","selectedDistricts","setSelectedDistricts","districtsRef","selectedPincodes","setSelectedPincodes","pincodesRef","districtsData","setDistrictsData","slotsData","setSlotsData","minSlots","setMinSlots","minSlotsRef","fetchSlots","a","searchByPin","current","isPublic","slots","currDate","districtUrl","pinUrl","codes","forEach","dist","push","k","dateToFetch","toLocaleDateString","replaceAll","i","url","code","trim","axios","get","then","response","message","destroy","data","idx","centers","centre","sessions","indexOf","fee_type","session","min_age_limit","available_capacity","vaccine","play","slot","name","address","console","log","catch","error","clearData","React","useEffect","states","districts","state","node","innerText","Item","distAdded","find","district","districtTags","Fragment","removedDist","filter","removedPin","pincodes","pin","justify","subTitle","gutter","level","min","max","onChange","Group","e","target","options","overlay","trigger","DownOutlined","span","placeholder","onPressEnter","noOfWeeks","disabled","dataSource","size","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.d48a620b.chunk.js","sourcesContent":["import React from \"react\";\nimport { FilterOutlined } from \"@ant-design/icons\";\nimport { Button, Tag } from \"antd\";\n\nconst Filter = ({\n  items = [],\n  itemRemoved,\n  allItemsRemoved,\n  visible,\n  isDistrict\n}) => {\n  if (!visible) {\n    return null;\n  }\n  return (\n    <div className=\"simple-border\" data-tour=\"display-filter\">\n      <FilterOutlined style={{ marginRight: \"0.5rem\" }} type=\"filter\" />\n      {createFilters(items, itemRemoved, isDistrict)}\n      {items.length > 1 && (\n        <Button danger onClick={allItemsRemoved}>\n          Clear All\n        </Button>\n      )}\n    </div>\n  );\n};\n\nconst createFilters = (items, itemRemoved, isDistrict) => {\n  if (items.length) {\n    return items.map((item) => (\n      <Tag\n        color=\"#108ee9\"\n        closable\n        onClose={() => itemRemoved(item)}\n        key={isDistrict ? item.district_id : item}\n      >\n        {isDistrict ? item.district_name : item}\n      </Tag>\n    ));\n  } else {\n    return (\n      <span style={{ opacity: \"0.5\", userSelect: \"none\" }}>\n        Add a pincode or select a district. You can add multiple.\n      </span>\n    );\n  }\n};\n\nexport default Filter;\n","import \"./styles.css\";\nimport \"antd/dist/antd.css\";\n\nimport {\n  Button,\n  Checkbox,\n  Col,\n  Dropdown,\n  Input,\n  Menu,\n  PageHeader,\n  Radio,\n  Row,\n  Spin,\n  Table,\n  message,\n} from \"antd\";\n\nimport { DownOutlined } from \"@ant-design/icons\";\nimport Filter from \"./Filter\";\nimport { InputNumber } from \"antd\";\nimport React from \"react\";\nimport { Typography } from \"antd\";\nimport axios from \"axios\";\nimport useState from \"react-usestateref\";\n\nconst { Title } = Typography;\nconst audio = new Audio(\n  \"https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3\"\n);\n\nfunction addDays(date, days) {\n  const copy = new Date(Number(date));\n  copy.setDate(date.getDate() + days);\n  return copy;\n}\n\nconst apiType = {\n  Public: \"Public\",\n  Private: \"Private\",\n};\n\nconst vacccines = [\n  { label: \"Covishield\", value: \"COVISHIELD\" },\n  { label: \"Covaxin\", value: \"COVAXIN\" },\n];\nconst feeTypes = [\n  { label: \"Free\", value: \"Free\" },\n  { label: \"Paid\", value: \"Paid\" },\n];\nconst columns = [\n  {\n    title: \"Center\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"District\",\n    dataIndex: \"district_name\",\n    key: \"district_name\",\n  },\n  {\n    title: \"Pincode\",\n    dataIndex: \"pincode\",\n    key: \"pincode\",\n  },\n  {\n    title: \"Date\",\n    dataIndex: \"date\",\n    key: \"date\",\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\",\n  },\n  {\n    title: \"Slots Avalilable\",\n    dataIndex: \"available_capacity\",\n    key: \"available_capacity\",\n  },\n  {\n    title: \"Min Age Limit\",\n    dataIndex: \"min_age_limit\",\n    key: \"min_age_limit\",\n  },\n  {\n    title: \"Vaccine\",\n    dataIndex: \"vaccine\",\n    key: \"vaccine\",\n  },\n  {\n    title: \"Fee type\",\n    dataIndex: \"fee_type\",\n    key: \"fee_type\",\n  },\n];\nconst sleepNow = (delay) =>\n  new Promise((resolve) => setTimeout(resolve, delay));\n\nexport default function App() {\n  const [searchType, setValue, searchRef] = useState(1);\n  const [minAge, setMinAge, minAgeRef] = useState(18);\n  const [pincode, setPincode] = useState(\"\");\n  const [interval, setInterval, intervalRef] = useState(1);\n  const [weeks, setWeeks, weeksRef] = useState(1);\n  const [searching, setSearching, searchingRef] = useState(false);\n  const [selectedVaccines, setSelectedVaccines, vaccinesRef] = useState([\n    \"COVAXIN\",\n    \"COVISHIELD\",\n  ]);\n  const [selectedFeeTypes, setSelectedFeeTypes, feeRef] = useState([\n    \"Free\",\n    \"Paid\",\n  ]);\n  const [selectedAPIType, setSelectedAPIType, apiTypeRef] = useState(\n    apiType.Public\n  );\n  const [selectedState, setSelectedState] = useState({\n    state_id: \"0\",\n    state_name: \"Select State\",\n  });\n  const [statesData, setStatesData] = useState([]);\n  const [selectedDistricts, setSelectedDistricts, districtsRef] = useState([]);\n  const [selectedPincodes, setSelectedPincodes, pincodesRef] = useState([]);\n  const [districtsData, setDistrictsData] = useState([]);\n  const [slotsData, setSlotsData] = useState([]);\n  const [minSlots, setMinSlots, minSlotsRef] = useState(1);\n  const onSearchTypeChange = (e) => {\n    setValue(e.target.value);\n  };\n  const onMinAgeChange = (e) => {\n    setMinAge(e.target.value);\n  };\n  const onPinChange = (e) => {\n    setPincode(e.target.value);\n  };\n  const onMinSlotsChange = (minSlots) => {\n    setMinSlots(minSlots);\n  };\n  const onWeeksChange = (noOfWeeks) => {\n    setWeeks(noOfWeeks);\n  };\n  const onSearchAPITypeChange = (e) => {\n    setSelectedAPIType(e.target.value);\n  };\n\n  async function fetchSlots() {\n    const searchByPin = searchRef.current === 2;\n    const isPublic = apiTypeRef.current === apiType.Public;\n    let slots = [];\n    const currDate = new Date();\n\n    const districtUrl = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/${\n      isPublic ? `public/` : \"\"\n    }calendarByDistrict?district_id=`;\n\n    const pinUrl = `https://cdn-api.co-vin.in/api/v2/appointment/sessions/${\n      isPublic ? `public/` : \"\"\n    }calendarByPin?pincode=`;\n\n    let codes = [];\n    if (searchByPin) {\n      codes = pincodesRef.current;\n    } else {\n      codes = [];\n      districtsRef.current.forEach((dist) => {\n        codes.push(dist.district_id);\n      });\n    }\n    const feeTypes = feeRef.current;\n    const vacccines = vaccinesRef.current;\n    for (let k = 0; k < weeksRef.current; k++) {\n      const dateToFetch = addDays(currDate, k * 7)\n        .toLocaleDateString()\n        .replaceAll(\"/\", \"-\");\n      for (let i = 0; i < codes.length; i++) {\n        let url = \"\";\n        const code = codes[i].trim();\n        if (searchByPin && code) {\n          url = pinUrl + code;\n        } else {\n          url = districtUrl + code;\n        }\n        url += \"&date=\" + dateToFetch;\n        axios\n          .get(url)\n          .then((response) => {\n            //clear any existing messages.\n            message.destroy();\n            const a = response.data;\n            let idx = 1;\n            a.centers.forEach(function (centre) {\n              if (centre && centre.sessions) {\n                if (feeTypes.indexOf(centre.fee_type) !== -1) {\n                  centre.sessions.forEach(function (session) {\n                    if (\n                      session.min_age_limit === minAgeRef.current &&\n                      session.available_capacity >= minSlotsRef.current &&\n                      vacccines.indexOf(session.vaccine) !== -1\n                    ) {\n                      audio.play();\n                      const slot = {\n                        key: centre.name + idx,\n                        name: centre.name,\n                        address: centre.address,\n                        fee_type: centre.fee_type,\n                        min_age_limit: session.min_age_limit,\n                        available_capacity: session.available_capacity,\n                        date: session.date,\n                        vaccine: session.vaccine,\n                        district_name: centre.district_name,\n                        pincode: centre.pincode,\n                      };\n                      slots.push(slot);\n                      idx++;\n                      console.log(\n                        (searchByPin ? \"Pincode\" : \"District\") +\n                          \": \" +\n                          code +\n                          \"--->>\" +\n                          \"Centre: \" +\n                          centre.name +\n                          \"----->>>>---Date: \" +\n                          session.date +\n                          \"---->>>> \" +\n                          session.available_capacity\n                      );\n                    }\n                  });\n                }\n              }\n            });\n            if (slots.length > 0) {\n              setSlotsData(slots);\n            }\n          })\n          .catch((error) => {\n            //clear any existing messages.\n            message.destroy();\n            message.error(\n              \"If this message is appearing continuously then something is wrong. \\n Please reload the application and then try again or login to Cowin once in the browser and then try again. If the problem persists then contact the Developer - Yash Bagadia\"\n            );\n            console.log(error);\n          });\n      }\n    }\n    if (intervalRef.current * 1000 > 500) {\n      await sleepNow(intervalRef.current * 1000);\n      fetchSlots();\n    }\n  }\n  async function clearData() {\n    setSlotsData([]);\n    await sleepNow(10000);\n    clearData();\n  }\n  const onSearchClick = () => {\n    if (!searching) {\n      setInterval(0);\n      setInterval(1);\n      fetchSlots();\n      clearData();\n      setSearching(true);\n      audio.play();\n    } else {\n      setInterval(0);\n      setSlotsData([]);\n      setSearching(false);\n    }\n  };\n  const onStateClick = (state) => {\n    setSelectedState({\n      state_id: state.key,\n      state_name: state.item.node.innerText,\n    });\n  };\n  const onDistrictRemoval = (removedDist) => {\n    const districts = selectedDistricts.filter(\n      (dist) => dist.district_id !== removedDist.district_id\n    );\n    setSelectedDistricts(districts);\n  };\n  const onPinRemoval = (removedPin) => {\n    const pincodes = selectedPincodes.filter((pin) => pin !== removedPin);\n    setSelectedPincodes(pincodes);\n  };\n\n  const removeAllItems = () => {\n    if (searchType === 1) {\n      setSelectedDistricts([]);\n    } else {\n      setSelectedPincodes([]);\n    }\n  };\n  const onDistrictClick = (distAdded) => {\n    const districts = [...selectedDistricts];\n    const existingDist = districts.find((dist) => {\n      return dist.district_id === distAdded.key;\n    });\n    if (!existingDist) {\n      districts.push({\n        district_id: distAdded.key,\n        district_name: distAdded.item.node.innerText,\n      });\n      setSelectedDistricts(districts);\n    }\n  };\n  const onPincodeAdd = (e) => {\n    const pincodes = [...selectedPincodes];\n    const existingPin = pincodes.find((pin) => {\n      return pin === e.target.value;\n    });\n    if (!existingPin) {\n      pincodes.push(e.target.value);\n      setSelectedPincodes(pincodes);\n      setPincode(\"\");\n    }\n  };\n  React.useEffect(() => {\n    axios\n      .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\")\n      .then((response) => {\n        const data = response.data.states;\n        setStatesData(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n  React.useEffect(() => {\n    axios\n      .get(\n        \"https://cdn-api.co-vin.in/api/v2/admin/location/districts/\" +\n          selectedState.state_id\n      )\n      .then((response) => {\n        const data = response.data.districts;\n        setDistrictsData(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [selectedState]);\n  const states = (\n    <Menu onClick={onStateClick}>\n      {statesData.map((state) => {\n        return <Menu.Item key={state.state_id}>{state.state_name}</Menu.Item>;\n      })}\n    </Menu>\n  );\n  const districts = (\n    <Menu onClick={onDistrictClick}>\n      {districtsData.map((district) => {\n        return (\n          <Menu.Item key={district.district_id}>\n            {district.district_name}\n          </Menu.Item>\n        );\n      })}\n    </Menu>\n  );\n  const districtTags = (\n    <React.Fragment>\n      <Filter\n        items={searchType === 1 ? selectedDistricts : selectedPincodes}\n        visible={true}\n        isDistrict={searchType === 1}\n        itemRemoved={searchType === 1 ? onDistrictRemoval : onPinRemoval}\n        allItemsRemoved={removeAllItems}\n      />\n    </React.Fragment>\n  );\n  return (\n    <div className=\"App\">\n      <Title>Cowin Vaccine Slot Monitor</Title>\n      <Row justify=\"center\">\n        <PageHeader\n          title=\"How?\"\n          subTitle=\"Start searching as per your criteria, once slot is available meeting  your criterias, an alarm beep sound will come and slots will be rendered on the UI below. Please keep your system unmute.\"\n        />\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Title level={5}>Enter no. of slots required for notification</Title>\n        </Col>\n        <Col>\n          <InputNumber\n            min={0}\n            max={100}\n            value={minSlots}\n            onChange={onMinSlotsChange}\n          />\n        </Col>\n        <Col>\n          <Title level={5}>Minimum Age</Title>\n        </Col>\n        <Col>\n          <Radio.Group onChange={onMinAgeChange} value={minAge}>\n            <Radio value={18}>18+</Radio>\n            <Radio value={45}>45+</Radio>\n          </Radio.Group>\n        </Col>\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Radio.Group onChange={onSearchTypeChange} value={searchType}>\n            <Radio value={1}>Search by District</Radio>\n            <Radio value={2}>Search by Pincode</Radio>\n          </Radio.Group>\n        </Col>\n        <Col>\n          <Checkbox.Group\n            options={vacccines}\n            value={selectedVaccines}\n            onChange={setSelectedVaccines}\n          />\n        </Col>\n        <Col>\n          <Checkbox.Group\n            options={feeTypes}\n            value={selectedFeeTypes}\n            onChange={setSelectedFeeTypes}\n          />\n        </Col>\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        {searchType === 1 ? (\n          <React.Fragment>\n            <Col>\n              <Dropdown overlay={states} trigger={[\"click\"]}>\n                <Button>\n                  {selectedState.state_name} <DownOutlined />\n                </Button>\n              </Dropdown>\n            </Col>\n            <Col>\n              <Dropdown overlay={districts} trigger={[\"click\"]}>\n                <Button>\n                  Select District <DownOutlined />\n                </Button>\n              </Dropdown>\n            </Col>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Col span={12}>\n              <Input\n                placeholder=\"Type a pincode and then press Enter\"\n                onPressEnter={onPincodeAdd}\n                onChange={onPinChange}\n                value={pincode}\n              />\n            </Col>\n          </React.Fragment>\n        )}\n        <Col>\n          <Title level={5}>No. of weeks to search for</Title>\n        </Col>\n        <Col>\n          <InputNumber min={1} max={4} value={weeks} onChange={onWeeksChange} />\n        </Col>\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        {districtTags}\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Title level={5}>API Type: (Noobs Only!)</Title>\n        </Col>\n        <Col>\n          <Radio.Group onChange={onSearchAPITypeChange} value={selectedAPIType}>\n            <Radio value={apiType.Public}>{apiType.Public}</Radio>\n            <Radio value={apiType.Private}>{apiType.Private}</Radio>\n          </Radio.Group>\n        </Col>\n        <Col>\n          <Button\n            disabled={\n              (searchType === 2 && selectedPincodes.length === 0) ||\n              (searchType === 1 && selectedDistricts.length === 0)\n            }\n            onClick={onSearchClick}\n            type={!searching ? \"primary\" : \"danger\"}\n          >\n            {!searching ? \"Start Searching\" : \"Stop Searching\"}\n          </Button>\n        </Col>\n      </Row>\n      <Row justify=\"center\">\n        {slotsData.length > 0 || !searching ? (\n          <Table dataSource={slotsData} columns={columns} />\n        ) : (\n          <Spin size=\"large\" />\n        )}\n      </Row>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}