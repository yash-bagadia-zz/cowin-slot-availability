{"version":3,"sources":["Filter.js","App.js","index.js"],"names":["createFilters","items","itemRemoved","isDistrict","length","map","item","color","closable","onClose","district_name","district_id","style","opacity","userSelect","Filter","allItemsRemoved","visible","className","data-tour","FilterOutlined","marginRight","type","danger","onClick","Title","Typography","audio","Audio","vacccines","label","value","feeTypes","columns","title","dataIndex","key","sleepNow","delay","Promise","resolve","setTimeout","App","useState","searchType","setValue","searchRef","minAge","setMinAge","minAgeRef","pincode","setPincode","setInterval","intervalRef","searching","setSearching","selectedVaccines","setSelectedVaccines","vaccinesRef","selectedFeeTypes","setSelectedFeeTypes","feeRef","state_id","state_name","selectedState","setSelectedState","statesData","setStatesData","selectedDistricts","setSelectedDistricts","districtsRef","selectedPincodes","setSelectedPincodes","pincodesRef","districtsData","setDistrictsData","slotsData","setSlotsData","minSlots","setMinSlots","minSlotsRef","fetchByPincode","a","searchByPin","current","slots","codes","forEach","dist","push","i","url","code","trim","Date","toLocaleDateString","replaceAll","axios","get","then","response","data","idx","centers","centre","sessions","indexOf","fee_type","session","min_age_limit","available_capacity","vaccine","play","slot","name","address","date","console","log","catch","error","clearData","React","useEffect","states","districts","state","node","innerText","Item","distAdded","find","district","districtTags","Fragment","removedDist","filter","removedPin","pincodes","pin","justify","gutter","level","min","max","onChange","Group","e","target","options","overlay","trigger","DownOutlined","span","placeholder","onPressEnter","disabled","dataSource","size","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.6d824877.chunk.js","sourcesContent":["import React from \"react\";\nimport { FilterOutlined } from \"@ant-design/icons\";\nimport { Button, Tag } from \"antd\";\n\nconst Filter = ({\n  items = [],\n  itemRemoved,\n  allItemsRemoved,\n  visible,\n  isDistrict\n}) => {\n  if (!visible) {\n    return null;\n  }\n  return (\n    <div className=\"simple-border\" data-tour=\"display-filter\">\n      <FilterOutlined style={{ marginRight: \"0.5rem\" }} type=\"filter\" />\n      {createFilters(items, itemRemoved, isDistrict)}\n      {items.length > 1 && (\n        <Button danger onClick={allItemsRemoved}>\n          Clear All\n        </Button>\n      )}\n    </div>\n  );\n};\n\nconst createFilters = (items, itemRemoved, isDistrict) => {\n  if (items.length) {\n    return items.map((item) => (\n      <Tag\n        color=\"#108ee9\"\n        closable\n        onClose={() => itemRemoved(item)}\n        key={isDistrict ? item.district_id : item}\n      >\n        {isDistrict ? item.district_name : item}\n      </Tag>\n    ));\n  } else {\n    return (\n      <span style={{ opacity: \"0.5\", userSelect: \"none\" }}>\n        Add a pincode or select a district. You can add multiple.\n      </span>\n    );\n  }\n};\n\nexport default Filter;\n","import \"./styles.css\";\nimport React from \"react\";\nimport {\n  Table,\n  PageHeader,\n  Radio,\n  Menu,\n  Dropdown,\n  Row,\n  Col,\n  Button,\n  Input,\n  Checkbox,\n  Spin\n} from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport \"antd/dist/antd.css\";\nimport axios from \"axios\";\nimport { InputNumber } from \"antd\";\nimport Filter from \"./Filter\";\nimport useState from \"react-usestateref\";\n\nimport { Typography } from \"antd\";\n\nconst { Title } = Typography;\nconst audio = new Audio(\n  \"https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3\"\n);\n\nconst vacccines = [\n  { label: \"Covishield\", value: \"COVISHIELD\" },\n  { label: \"Covaxin\", value: \"COVAXIN\" }\n];\nconst feeTypes = [\n  { label: \"Free\", value: \"Free\" },\n  { label: \"Paid\", value: \"Paid\" }\n];\nconst columns = [\n  {\n    title: \"Center\",\n    dataIndex: \"name\",\n    key: \"name\"\n  },\n  {\n    title: \"District\",\n    dataIndex: \"district_name\",\n    key: \"district_name\"\n  },\n  {\n    title: \"Pincode\",\n    dataIndex: \"pincode\",\n    key: \"pincode\"\n  },\n  {\n    title: \"Date\",\n    dataIndex: \"date\",\n    key: \"date\"\n  },\n  {\n    title: \"Address\",\n    dataIndex: \"address\",\n    key: \"address\"\n  },\n  {\n    title: \"Slots Avalilable\",\n    dataIndex: \"available_capacity\",\n    key: \"available_capacity\"\n  },\n  {\n    title: \"Min Age Limit\",\n    dataIndex: \"min_age_limit\",\n    key: \"min_age_limit\"\n  },\n  {\n    title: \"Vaccine\",\n    dataIndex: \"vaccine\",\n    key: \"vaccine\"\n  },\n  {\n    title: \"Fee type\",\n    dataIndex: \"fee_type\",\n    key: \"fee_type\"\n  }\n];\nconst sleepNow = (delay) =>\n  new Promise((resolve) => setTimeout(resolve, delay));\n\nexport default function App() {\n  const [searchType, setValue, searchRef] = useState(1);\n  const [minAge, setMinAge, minAgeRef] = useState(18);\n  const [pincode, setPincode] = useState(\"\");\n  const [interval, setInterval, intervalRef] = useState(1);\n  const [searching, setSearching, searchingRef] = useState(false);\n  const [selectedVaccines, setSelectedVaccines, vaccinesRef] = useState([\n    \"COVAXIN\",\n    \"COVISHIELD\"\n  ]);\n  const [selectedFeeTypes, setSelectedFeeTypes, feeRef] = useState([\n    \"Free\",\n    \"Paid\"\n  ]);\n  const [selectedState, setSelectedState] = useState({\n    state_id: \"0\",\n    state_name: \"Select State\"\n  });\n  const [statesData, setStatesData] = useState([]);\n  const [selectedDistricts, setSelectedDistricts, districtsRef] = useState([]);\n  const [selectedPincodes, setSelectedPincodes, pincodesRef] = useState([]);\n  const [districtsData, setDistrictsData] = useState([]);\n  const [slotsData, setSlotsData] = useState([]);\n  const [minSlots, setMinSlots, minSlotsRef] = useState(1);\n  const onSearchTypeChange = (e) => {\n    setValue(e.target.value);\n  };\n  const onMinAgeChange = (e) => {\n    setMinAge(e.target.value);\n  };\n  const onPinChange = (e) => {\n    setPincode(e.target.value);\n  };\n  const onMinSlotsChange = (minSlots) => {\n    setMinSlots(minSlots);\n  };\n\n  async function fetchByPincode() {\n    const searchByPin = searchRef.current === 2;\n    let slots = [];\n    const districtUrl =\n      \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict?district_id=\";\n    const pinUrl =\n      \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByPin?pincode=\";\n    let codes = [];\n    if (searchByPin) {\n      codes = pincodesRef.current;\n    } else {\n      codes = [];\n      districtsRef.current.forEach((dist) => {\n        codes.push(dist.district_id);\n      });\n    }\n    const feeTypes = feeRef.current;\n    const vacccines = vaccinesRef.current;\n    for (let i = 0; i < codes.length; i++) {\n      let url = \"\";\n      const code = codes[i].trim();\n      if (searchByPin && code) {\n        url = pinUrl + code;\n      } else {\n        url = districtUrl + code;\n      }\n      url += \"&date=\" + new Date().toLocaleDateString().replaceAll(\"/\", \"-\");\n      axios\n        .get(url)\n        .then((response) => {\n          const a = response.data;\n          let idx = 1;\n          a.centers.forEach(function (centre) {\n            if (centre && centre.sessions) {\n              if (feeTypes.indexOf(centre.fee_type) !== -1) {\n                centre.sessions.forEach(function (session) {\n                  if (\n                    session.min_age_limit === minAgeRef.current &&\n                    session.available_capacity >= minSlotsRef.current &&\n                    vacccines.indexOf(session.vaccine) !== -1\n                  ) {\n                    audio.play();\n                    const slot = {\n                      key: centre.name + idx,\n                      name: centre.name,\n                      address: centre.address,\n                      fee_type: centre.fee_type,\n                      min_age_limit: session.min_age_limit,\n                      available_capacity: session.available_capacity,\n                      date: session.date,\n                      vaccine: session.vaccine,\n                      district_name: centre.district_name,\n                      pincode: centre.pincode\n                    };\n                    slots.push(slot);\n                    idx++;\n                    console.log(\n                      (searchByPin ? \"Pincode\" : \"District\") +\n                        \": \" +\n                        code +\n                        \"--->>\" +\n                        \"Centre: \" +\n                        centre.name +\n                        \"----->>>>---Date: \" +\n                        session.date +\n                        \"---->>>> \" +\n                        session.available_capacity\n                    );\n                  }\n                });\n              }\n            }\n          });\n          if (slots.length > 0) {\n            setSlotsData(slots);\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n    if (intervalRef.current * 1000 > 500) {\n      await sleepNow(intervalRef.current * 1000);\n      fetchByPincode();\n    }\n  }\n  async function clearData() {\n    setSlotsData([]);\n    await sleepNow(10000);\n    clearData();\n  }\n  const searchSlots = () => {\n    setInterval(0);\n    setInterval(1);\n    fetchByPincode();\n    clearData();\n    setSearching(true);\n  };\n  const stopSearch = () => {\n    setInterval(0);\n    setSlotsData([]);\n    setSearching(false);\n  };\n  const onStateClick = (state) => {\n    setSelectedState({\n      state_id: state.key,\n      state_name: state.item.node.innerText\n    });\n  };\n  const onDistrictRemoval = (removedDist) => {\n    const districts = selectedDistricts.filter(\n      (dist) => dist.district_id !== removedDist.district_id\n    );\n    setSelectedDistricts(districts);\n  };\n  const onPinRemoval = (removedPin) => {\n    const pincodes = selectedPincodes.filter((pin) => pin !== removedPin);\n    setSelectedPincodes(pincodes);\n  };\n\n  const removeAllItems = () => {\n    if (searchType === 1) {\n      setSelectedDistricts([]);\n    } else {\n      setSelectedPincodes([]);\n    }\n  };\n  const onDistrictClick = (distAdded) => {\n    const districts = [...selectedDistricts];\n    const existingDist = districts.find((dist) => {\n      return dist.district_id === distAdded.key;\n    });\n    if (!existingDist) {\n      districts.push({\n        district_id: distAdded.key,\n        district_name: distAdded.item.node.innerText\n      });\n      setSelectedDistricts(districts);\n    }\n  };\n  const onPincodeAdd = (e) => {\n    const pincodes = [...selectedPincodes];\n    const existingPin = pincodes.find((pin) => {\n      return pin === e.target.value;\n    });\n    if (!existingPin) {\n      pincodes.push(e.target.value);\n      setSelectedPincodes(pincodes);\n      setPincode(\"\");\n    }\n  };\n  React.useEffect(() => {\n    axios\n      .get(\"https://cdn-api.co-vin.in/api/v2/admin/location/states\")\n      .then((response) => {\n        const data = response.data.states;\n        setStatesData(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n  React.useEffect(() => {\n    axios\n      .get(\n        \"https://cdn-api.co-vin.in/api/v2/admin/location/districts/\" +\n          selectedState.state_id\n      )\n      .then((response) => {\n        const data = response.data.districts;\n        setDistrictsData(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [selectedState]);\n  const states = (\n    <Menu onClick={onStateClick}>\n      {statesData.map((state) => {\n        return <Menu.Item key={state.state_id}>{state.state_name}</Menu.Item>;\n      })}\n    </Menu>\n  );\n  const districts = (\n    <Menu onClick={onDistrictClick}>\n      {districtsData.map((district) => {\n        return (\n          <Menu.Item key={district.district_id}>\n            {district.district_name}\n          </Menu.Item>\n        );\n      })}\n    </Menu>\n  );\n  const districtTags = (\n    <React.Fragment>\n      <Filter\n        items={searchType === 1 ? selectedDistricts : selectedPincodes}\n        visible={true}\n        isDistrict={searchType === 1}\n        itemRemoved={searchType === 1 ? onDistrictRemoval : onPinRemoval}\n        allItemsRemoved={removeAllItems}\n      />\n    </React.Fragment>\n  );\n  return (\n    <div className=\"App\">\n      <Title>Cowin Vaccine Slot Monitor</Title>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Title level={5}>Select no. of slots required</Title>\n        </Col>\n        <Col>\n          <InputNumber\n            min={0}\n            max={100}\n            value={minSlots}\n            onChange={onMinSlotsChange}\n          />\n        </Col>\n        <Col>\n          <Title level={5}>Minimum Age</Title>\n        </Col>\n        <Col>\n          <Radio.Group onChange={onMinAgeChange} value={minAge}>\n            <Radio value={18}>18+</Radio>\n            <Radio value={45}>45+</Radio>\n          </Radio.Group>\n        </Col>\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Radio.Group onChange={onSearchTypeChange} value={searchType}>\n            <Radio value={1}>Search by District</Radio>\n            <Radio value={2}>Search by Pincode</Radio>\n          </Radio.Group>\n        </Col>\n        <Col>\n          <Checkbox.Group\n            options={vacccines}\n            value={selectedVaccines}\n            onChange={setSelectedVaccines}\n          />\n        </Col>\n        <Col>\n          <Checkbox.Group\n            options={feeTypes}\n            value={selectedFeeTypes}\n            onChange={setSelectedFeeTypes}\n          />\n        </Col>\n      </Row>\n      {searchType === 1 ? (\n        <React.Fragment>\n          <Row justify=\"center\" gutter={24}>\n            <Col>\n              <Dropdown overlay={states} trigger={[\"click\"]}>\n                <Button>\n                  {selectedState.state_name} <DownOutlined />\n                </Button>\n              </Dropdown>\n            </Col>\n            <Col>\n              <Dropdown overlay={districts} trigger={[\"click\"]}>\n                <Button>\n                  Select District <DownOutlined />\n                </Button>\n              </Dropdown>\n            </Col>\n          </Row>\n        </React.Fragment>\n      ) : (\n        <React.Fragment>\n          <Row justify=\"center\" gutter={24}>\n            <Col span={12}>\n              <Input\n                placeholder=\"Type a pincode and then press Enter\"\n                onPressEnter={onPincodeAdd}\n                onChange={onPinChange}\n                value={pincode}\n              />\n            </Col>\n          </Row>\n        </React.Fragment>\n      )}\n      <Row justify=\"center\" gutter={24}>\n        {districtTags}\n      </Row>\n      <Row justify=\"center\" gutter={24}>\n        <Col>\n          <Button\n            disabled={\n              searching ||\n              (searchType === 2 && selectedPincodes.length === 0) ||\n              (searchType === 1 && selectedDistricts.length === 0)\n            }\n            onClick={searchSlots}\n            type=\"primary\"\n          >\n            Start Searching\n          </Button>\n        </Col>\n        <Col>\n          <Button disabled={!searching} type=\"danger\" onClick={stopSearch}>\n            Stop Searching\n          </Button>\n        </Col>\n      </Row>\n      <Row justify=\"center\">\n        {slotsData.length > 0 || !searching ? (\n          <Table dataSource={slotsData} columns={columns} />\n        ) : (\n          <Spin size=\"large\" />\n        )}\n      </Row>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}