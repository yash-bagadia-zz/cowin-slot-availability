(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{214:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(22),r=n.n(c),s=n(100),l=n.n(s),o=n(153),d=n(147),j=n(32),u=(n(214),n(215),n(202)),b=n(46),h=n(322),p=n(319),O=n(323),f=n(133),x=n(98),m=n(126),v=n(50),g=n(320),y=n(316),_=n(196),k=n(59),C=n(324),I=n(321),w=n(4),S=function(e,t,n){return e.length?e.map((function(e){return Object(w.jsx)(I.a,{color:"#108ee9",closable:!0,onClose:function(){return t(e)},children:n?e.district_name:e},n?e.district_id:e)})):Object(w.jsx)("span",{style:{opacity:"0.5",userSelect:"none"},children:"Add a pincode or select a district. You can add multiple."})},D=function(e){var t=e.items,n=void 0===t?[]:t,a=e.itemRemoved,i=e.allItemsRemoved,c=e.visible,r=e.isDistrict;return c?Object(w.jsxs)("div",{className:"simple-border","data-tour":"display-filter",children:[Object(w.jsx)(C.a,{style:{marginRight:"0.5rem"},type:"filter"}),S(n,a,r),n.length>1&&Object(w.jsx)(v.a,{danger:!0,onClick:i,children:"Clear All"})]}):null},P=n(317),A=n(318),E=n(140),F=n.n(E),T=n(31),N=n.n(T),V=A.a.Title,G=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3");function R(e,t){var n=new Date(Number(e));return n.setDate(e.getDate()+t),n}var B="Public",L="Private",M=[{label:"Covishield",value:"COVISHIELD"},{label:"Covaxin",value:"COVAXIN"}],H=[{label:"Free",value:"Free"},{label:"Paid",value:"Paid"}],Y=[{title:"Center",dataIndex:"name",key:"name"},{title:"District",dataIndex:"district_name",key:"district_name"},{title:"Pincode",dataIndex:"pincode",key:"pincode"},{title:"Date",dataIndex:"date",key:"date"},{title:"Address",dataIndex:"address",key:"address"},{title:"Slots Avalilable",dataIndex:"available_capacity",key:"available_capacity"},{title:"Min Age Limit",dataIndex:"min_age_limit",key:"min_age_limit"},{title:"Vaccine",dataIndex:"vaccine",key:"vaccine"},{title:"Fee type",dataIndex:"fee_type",key:"fee_type"}],J=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function X(){var e=N()(1),t=Object(j.a)(e,3),n=t[0],a=t[1],c=t[2],r=N()(18),s=Object(j.a)(r,3),C=s[0],I=s[1],S=s[2],A=N()(""),E=Object(j.a)(A,2),T=E[0],X=E[1],q=N()(1),z=Object(j.a)(q,3),U=(z[0],z[1]),W=z[2],K=N()(1),Q=Object(j.a)(K,3),Z=Q[0],$=Q[1],ee=Q[2],te=N()(!1),ne=Object(j.a)(te,3),ae=ne[0],ie=ne[1],ce=(ne[2],N()(["COVAXIN","COVISHIELD"])),re=Object(j.a)(ce,3),se=re[0],le=re[1],oe=re[2],de=N()(["Free","Paid"]),je=Object(j.a)(de,3),ue=je[0],be=je[1],he=je[2],pe=N()(B),Oe=Object(j.a)(pe,3),fe=Oe[0],xe=Oe[1],me=Oe[2],ve=N()({state_id:"0",state_name:"Select State"}),ge=Object(j.a)(ve,2),ye=ge[0],_e=ge[1],ke=N()([]),Ce=Object(j.a)(ke,2),Ie=Ce[0],we=Ce[1],Se=N()([]),De=Object(j.a)(Se,3),Pe=De[0],Ae=De[1],Ee=De[2],Fe=N()([]),Te=Object(j.a)(Fe,3),Ne=Te[0],Ve=Te[1],Ge=Te[2],Re=N()([]),Be=Object(j.a)(Re,2),Le=Be[0],Me=Be[1],He=N()([]),Ye=Object(j.a)(He,2),Je=Ye[0],Xe=Ye[1],qe=N()(1),ze=Object(j.a)(qe,3),Ue=ze[0],We=ze[1],Ke=ze[2];function Qe(){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(d.a)(l.a.mark((function e(){var t,n,a,i,r,s,o,d,j,b,h,p,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=2===c.current,n=me.current===B,a=[],i=new Date,r="https://cdn-api.co-vin.in/api/v2/appointment/sessions/".concat(n?"public/":"","calendarByDistrict?district_id="),s="https://cdn-api.co-vin.in/api/v2/appointment/sessions/".concat(n?"public/":"","calendarByPin?pincode="),o=[],t?o=Ge.current:(o=[],Ee.current.forEach((function(e){o.push(e.district_id)}))),d=he.current,j=oe.current,b=0;b<ee.current;b++)for(h=R(i,7*b).toLocaleDateString().replaceAll("/","-"),p=function(e){var n="",i=o[e].trim();n=t&&i?s+i:r+i,n+="&date="+h,F.a.get(n).then((function(e){u.b.destroy();var n=e.data,c=1;n.centers.forEach((function(e){e&&e.sessions&&-1!==d.indexOf(e.fee_type)&&e.sessions.forEach((function(n){if(n.min_age_limit===S.current&&n.available_capacity>=Ke.current&&-1!==j.indexOf(n.vaccine)){G.play();var r={key:e.name+c,name:e.name,address:e.address,fee_type:e.fee_type,min_age_limit:n.min_age_limit,available_capacity:n.available_capacity,date:n.date,vaccine:n.vaccine,district_name:e.district_name,pincode:e.pincode};a.push(r),c++,console.log((t?"Pincode":"District")+": "+i+"---\x3e>Centre: "+e.name+"-----\x3e>>>---Date: "+n.date+"----\x3e>>> "+n.available_capacity)}}))})),a.length>0&&Xe(a)})).catch((function(e){u.b.destroy(),u.b.error("If this message is appearing continuously then something is wrong. \n Please reload the application and then try again or login to Cowin once in the browser and then try again. If the problem persists then contact the Developer - Yash Bagadia"),console.log(e)}))},O=0;O<o.length;O++)p(O);if(!(1e3*W.current>500)){e.next=15;break}return e.next=14,J(1e3*W.current);case 14:Qe();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return et.apply(this,arguments)}function et(){return(et=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe([]),e.next=3,J(1e4);case 3:$e();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.useEffect((function(){F.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){var t=e.data.states;we(t)})).catch((function(e){console.log(e)}))}),[]),i.a.useEffect((function(){F.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+ye.state_id).then((function(e){var t=e.data.districts;Me(t)})).catch((function(e){console.log(e)}))}),[ye]);var tt=Object(w.jsx)(b.a,{onClick:function(e){_e({state_id:e.key,state_name:e.item.node.innerText})},children:Ie.map((function(e){return Object(w.jsx)(b.a.Item,{children:e.state_name},e.state_id)}))}),nt=Object(w.jsx)(b.a,{onClick:function(e){var t=Object(o.a)(Pe);t.find((function(t){return t.district_id===e.key}))||(t.push({district_id:e.key,district_name:e.item.node.innerText}),Ae(t))},children:Le.map((function(e){return Object(w.jsx)(b.a.Item,{children:e.district_name},e.district_id)}))}),at=Object(w.jsx)(i.a.Fragment,{children:Object(w.jsx)(D,{items:1===n?Pe:Ne,visible:!0,isDistrict:1===n,itemRemoved:1===n?function(e){var t=Pe.filter((function(t){return t.district_id!==e.district_id}));Ae(t)}:function(e){var t=Ne.filter((function(t){return t!==e}));Ve(t)},allItemsRemoved:function(){1===n?Ae([]):Ve([])}})});return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(V,{children:"Cowin Vaccine Slot Monitor"}),Object(w.jsx)(h.a,{justify:"center",children:Object(w.jsx)(p.a,{title:"How?",subTitle:"Start searching as per your criteria, once slot is available meeting  your criterias, an alarm beep sound will come and slots will be rendered on the UI below. Please keep your system unmute."})}),Object(w.jsxs)(h.a,{justify:"center",gutter:24,children:[Object(w.jsx)(O.a,{children:Object(w.jsx)(V,{level:5,children:"Enter no. of slots required for notification"})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(P.a,{min:0,max:100,value:Ue,onChange:function(e){We(e)}})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(V,{level:5,children:"Minimum Age"})}),Object(w.jsx)(O.a,{children:Object(w.jsxs)(f.a.Group,{onChange:function(e){I(e.target.value)},value:C,children:[Object(w.jsx)(f.a,{value:18,children:"18+"}),Object(w.jsx)(f.a,{value:45,children:"45+"})]})})]}),Object(w.jsxs)(h.a,{justify:"center",gutter:24,children:[Object(w.jsx)(O.a,{children:Object(w.jsxs)(f.a.Group,{onChange:function(e){a(e.target.value)},value:n,children:[Object(w.jsx)(f.a,{value:1,children:"Search by District"}),Object(w.jsx)(f.a,{value:2,children:"Search by Pincode"})]})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(x.a.Group,{options:M,value:se,onChange:le})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(x.a.Group,{options:H,value:ue,onChange:be})})]}),Object(w.jsxs)(h.a,{justify:"center",gutter:24,children:[1===n?Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(O.a,{children:Object(w.jsx)(m.a,{overlay:tt,trigger:["click"],children:Object(w.jsxs)(v.a,{children:[ye.state_name," ",Object(w.jsx)(k.a,{})]})})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(m.a,{overlay:nt,trigger:["click"],children:Object(w.jsxs)(v.a,{children:["Select District ",Object(w.jsx)(k.a,{})]})})})]}):Object(w.jsx)(i.a.Fragment,{children:Object(w.jsx)(O.a,{span:12,children:Object(w.jsx)(g.a,{placeholder:"Type a pincode and then press Enter",onPressEnter:function(e){var t=Object(o.a)(Ne);t.find((function(t){return t===e.target.value}))||(t.push(e.target.value),Ve(t),X(""))},onChange:function(e){X(e.target.value)},value:T})})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(V,{level:5,children:"No. of weeks to search for"})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(P.a,{min:1,max:4,value:Z,onChange:function(e){$(e)}})})]}),Object(w.jsx)(h.a,{justify:"center",gutter:24,children:at}),Object(w.jsxs)(h.a,{justify:"center",gutter:24,children:[Object(w.jsx)(O.a,{children:Object(w.jsx)(V,{level:5,children:"API Type: (Whatever works for You!)"})}),Object(w.jsx)(O.a,{children:Object(w.jsxs)(f.a.Group,{onChange:function(e){xe(e.target.value)},value:fe,children:[Object(w.jsx)(f.a,{value:B,children:B}),Object(w.jsx)(f.a,{value:L,children:L})]})}),Object(w.jsx)(O.a,{children:Object(w.jsx)(v.a,{disabled:2===n&&0===Ne.length||1===n&&0===Pe.length,onClick:function(){ae?(U(0),Xe([]),ie(!1)):(U(0),U(1),Qe(),$e(),ie(!0),G.play())},type:ae?"danger":"primary",children:ae?"Stop Searching":"Start Searching"})})]}),Object(w.jsx)(h.a,{justify:"center",children:Je.length>0||!ae?Object(w.jsx)(y.a,{dataSource:Je,columns:Y}):Object(w.jsx)(_.a,{size:"large"})})]})}var q=document.getElementById("root");r.a.render(Object(w.jsx)(a.StrictMode,{children:Object(w.jsx)(X,{})}),q)}},[[314,1,2]]]);
//# sourceMappingURL=main.38ef3b88.chunk.js.map