(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{214:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(22),r=n.n(c),s=n(100),l=n.n(s),o=n(153),d=n(147),u=n(33),j=(n(214),n(202)),h=n(46),b=n(322),p=n(319),f=n(323),m=n(133),O=n(98),x=n(126),v=n(50),g=n(320),y=n(316),_=n(196),k=n(59),C=(n(215),n(140)),I=n.n(C),w=n(317),D=n(324),S=n(321),P=n(4),A=function(e,t,n){return e.length?e.map((function(e){return Object(P.jsx)(S.a,{color:"#108ee9",closable:!0,onClose:function(){return t(e)},children:n?e.district_name:e},n?e.district_id:e)})):Object(P.jsx)("span",{style:{opacity:"0.5",userSelect:"none"},children:"Add a pincode or select a district. You can add multiple."})},E=function(e){var t=e.items,n=void 0===t?[]:t,a=e.itemRemoved,i=e.allItemsRemoved,c=e.visible,r=e.isDistrict;return c?Object(P.jsxs)("div",{className:"simple-border","data-tour":"display-filter",children:[Object(P.jsx)(D.a,{style:{marginRight:"0.5rem"},type:"filter"}),A(n,a,r),n.length>1&&Object(P.jsx)(v.a,{danger:!0,onClick:i,children:"Clear All"})]}):null},F=n(32),B=n.n(F),N=n(318).a.Title,T=new Audio("https://media.geeksforgeeks.org/wp-content/uploads/20190531135120/beep.mp3");function V(e,t){var n=new Date(Number(e));return n.setDate(e.getDate()+t),n}var R=[{label:"Covishield",value:"COVISHIELD"},{label:"Covaxin",value:"COVAXIN"}],G=[{label:"Free",value:"Free"},{label:"Paid",value:"Paid"}],L=[{title:"Center",dataIndex:"name",key:"name"},{title:"District",dataIndex:"district_name",key:"district_name"},{title:"Pincode",dataIndex:"pincode",key:"pincode"},{title:"Date",dataIndex:"date",key:"date"},{title:"Address",dataIndex:"address",key:"address"},{title:"Slots Avalilable",dataIndex:"available_capacity",key:"available_capacity"},{title:"Min Age Limit",dataIndex:"min_age_limit",key:"min_age_limit"},{title:"Vaccine",dataIndex:"vaccine",key:"vaccine"},{title:"Fee type",dataIndex:"fee_type",key:"fee_type"}],M=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function H(){var e=B()(1),t=Object(u.a)(e,3),n=t[0],a=t[1],c=t[2],r=B()(18),s=Object(u.a)(r,3),C=s[0],D=s[1],S=s[2],A=B()(""),F=Object(u.a)(A,2),H=F[0],J=F[1],X=B()(1),Y=Object(u.a)(X,3),q=(Y[0],Y[1]),z=Y[2],U=B()(1),K=Object(u.a)(U,3),Q=K[0],W=K[1],Z=K[2],$=B()(!1),ee=Object(u.a)($,3),te=ee[0],ne=ee[1],ae=(ee[2],B()(["COVAXIN","COVISHIELD"])),ie=Object(u.a)(ae,3),ce=ie[0],re=ie[1],se=ie[2],le=B()(["Free","Paid"]),oe=Object(u.a)(le,3),de=oe[0],ue=oe[1],je=oe[2],he=B()({state_id:"0",state_name:"Select State"}),be=Object(u.a)(he,2),pe=be[0],fe=be[1],me=B()([]),Oe=Object(u.a)(me,2),xe=Oe[0],ve=Oe[1],ge=B()([]),ye=Object(u.a)(ge,3),_e=ye[0],ke=ye[1],Ce=ye[2],Ie=B()([]),we=Object(u.a)(Ie,3),De=we[0],Se=we[1],Pe=we[2],Ae=B()([]),Ee=Object(u.a)(Ae,2),Fe=Ee[0],Be=Ee[1],Ne=B()([]),Te=Object(u.a)(Ne,2),Ve=Te[0],Re=Te[1],Ge=B()(1),Le=Object(u.a)(Ge,3),Me=Le[0],He=Le[1],Je=Le[2];function Xe(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(d.a)(l.a.mark((function e(){var t,n,a,i,r,s,o,d,u,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=2===c.current,n=[],a=new Date,"https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict?district_id=","https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByPin?pincode=",i=[],t?i=Pe.current:(i=[],Ce.current.forEach((function(e){i.push(e.district_id)}))),r=je.current,s=se.current,o=0;o<Z.current;o++)for(d=V(a,7*o).toLocaleDateString().replaceAll("/","-"),u=function(e){var a="",c=i[e].trim();a=t&&c?"https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByPin?pincode="+c:"https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict?district_id="+c,a+="&date="+d,I.a.get(a).then((function(e){var a=e.data,i=1;a.centers.forEach((function(e){e&&e.sessions&&-1!==r.indexOf(e.fee_type)&&e.sessions.forEach((function(a){if(a.min_age_limit===S.current&&a.available_capacity>=Je.current&&-1!==s.indexOf(a.vaccine)){T.play();var r={key:e.name+i,name:e.name,address:e.address,fee_type:e.fee_type,min_age_limit:a.min_age_limit,available_capacity:a.available_capacity,date:a.date,vaccine:a.vaccine,district_name:e.district_name,pincode:e.pincode};n.push(r),i++,console.log((t?"Pincode":"District")+": "+c+"---\x3e>Centre: "+e.name+"-----\x3e>>>---Date: "+a.date+"----\x3e>>> "+a.available_capacity)}}))})),n.length>0&&Re(n)})).catch((function(e){j.b.error("If this message is appearing continuously then something is wrong. \n Please reload the application and then try again or login to Cowin once in the browser and then try again. If the problem persists then contact the Developer - Yash Bagadia"),console.log(e)}))},h=0;h<i.length;h++)u(h);if(!(1e3*z.current>500)){e.next=14;break}return e.next=13,M(1e3*z.current);case 13:Xe();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(){return ze.apply(this,arguments)}function ze(){return(ze=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re([]),e.next=3,M(1e4);case 3:qe();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.useEffect((function(){I.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){var t=e.data.states;ve(t)})).catch((function(e){console.log(e)}))}),[]),i.a.useEffect((function(){I.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+pe.state_id).then((function(e){var t=e.data.districts;Be(t)})).catch((function(e){console.log(e)}))}),[pe]);var Ue=Object(P.jsx)(h.a,{onClick:function(e){fe({state_id:e.key,state_name:e.item.node.innerText})},children:xe.map((function(e){return Object(P.jsx)(h.a.Item,{children:e.state_name},e.state_id)}))}),Ke=Object(P.jsx)(h.a,{onClick:function(e){var t=Object(o.a)(_e);t.find((function(t){return t.district_id===e.key}))||(t.push({district_id:e.key,district_name:e.item.node.innerText}),ke(t))},children:Fe.map((function(e){return Object(P.jsx)(h.a.Item,{children:e.district_name},e.district_id)}))}),Qe=Object(P.jsx)(i.a.Fragment,{children:Object(P.jsx)(E,{items:1===n?_e:De,visible:!0,isDistrict:1===n,itemRemoved:1===n?function(e){var t=_e.filter((function(t){return t.district_id!==e.district_id}));ke(t)}:function(e){var t=De.filter((function(t){return t!==e}));Se(t)},allItemsRemoved:function(){1===n?ke([]):Se([])}})});return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(N,{children:"Cowin Vaccine Slot Monitor"}),Object(P.jsx)(b.a,{justify:"center",children:Object(P.jsx)(p.a,{title:"How?",subTitle:"Start searching as per your criteria, once slot is available meeting  your criterias, an alarm beep sound will come and slots will be rendered on the UI below. Please keep your system unmute."})}),Object(P.jsxs)(b.a,{justify:"center",gutter:24,children:[Object(P.jsx)(f.a,{children:Object(P.jsx)(N,{level:5,children:"Enter no. of slots required for notification"})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(w.a,{min:0,max:100,value:Me,onChange:function(e){He(e)}})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(N,{level:5,children:"Minimum Age"})}),Object(P.jsx)(f.a,{children:Object(P.jsxs)(m.a.Group,{onChange:function(e){D(e.target.value)},value:C,children:[Object(P.jsx)(m.a,{value:18,children:"18+"}),Object(P.jsx)(m.a,{value:45,children:"45+"})]})})]}),Object(P.jsxs)(b.a,{justify:"center",gutter:24,children:[Object(P.jsx)(f.a,{children:Object(P.jsxs)(m.a.Group,{onChange:function(e){a(e.target.value)},value:n,children:[Object(P.jsx)(m.a,{value:1,children:"Search by District"}),Object(P.jsx)(m.a,{value:2,children:"Search by Pincode"})]})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(O.a.Group,{options:R,value:ce,onChange:re})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(O.a.Group,{options:G,value:de,onChange:ue})})]}),Object(P.jsxs)(b.a,{justify:"center",gutter:24,children:[1===n?Object(P.jsxs)(i.a.Fragment,{children:[Object(P.jsx)(f.a,{children:Object(P.jsx)(x.a,{overlay:Ue,trigger:["click"],children:Object(P.jsxs)(v.a,{children:[pe.state_name," ",Object(P.jsx)(k.a,{})]})})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(x.a,{overlay:Ke,trigger:["click"],children:Object(P.jsxs)(v.a,{children:["Select District ",Object(P.jsx)(k.a,{})]})})})]}):Object(P.jsx)(i.a.Fragment,{children:Object(P.jsx)(f.a,{span:12,children:Object(P.jsx)(g.a,{placeholder:"Type a pincode and then press Enter",onPressEnter:function(e){var t=Object(o.a)(De);t.find((function(t){return t===e.target.value}))||(t.push(e.target.value),Se(t),J(""))},onChange:function(e){J(e.target.value)},value:H})})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(N,{level:5,children:"No. of weeks to search for"})}),Object(P.jsx)(f.a,{children:Object(P.jsx)(w.a,{min:1,max:4,value:Q,onChange:function(e){W(e)}})})]}),Object(P.jsx)(b.a,{justify:"center",gutter:24,children:Qe}),Object(P.jsx)(b.a,{justify:"center",gutter:24,children:Object(P.jsx)(f.a,{children:Object(P.jsx)(v.a,{disabled:2===n&&0===De.length||1===n&&0===_e.length,onClick:function(){te?(q(0),Re([]),ne(!1)):(q(0),q(1),Xe(),qe(),ne(!0),T.play())},type:te?"danger":"primary",children:te?"Stop Searching":"Start Searching"})})}),Object(P.jsx)(b.a,{justify:"center",children:Ve.length>0||!te?Object(P.jsx)(y.a,{dataSource:Ve,columns:L}):Object(P.jsx)(_.a,{size:"large"})})]})}var J=document.getElementById("root");r.a.render(Object(P.jsx)(a.StrictMode,{children:Object(P.jsx)(H,{})}),J)}},[[314,1,2]]]);
//# sourceMappingURL=main.20649dab.chunk.js.map